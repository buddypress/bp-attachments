{"mappings":"YAGA,MAAMA,SAAEA,GAAaC,OCArB,MAAMC,SACLC,GACGC,GAoEJC,OAAOC,GAAKD,OAAOC,IAAM,GACzBD,OAAOC,GAAGC,YAAcF,OAAOC,GAAGC,aAAe,GAEjD,MAAMC,EAAgBH,OAAOI,6BAA+B,GAC5DJ,OAAOC,GAAGC,YAAYG,UAAY,IAjElC,MAuBCC,WAAYC,GD9Bb,IAAsBC,ECgCpB,ODhCoBA,EC+BUC,KAAKd,SDvB7BA,EAAUe,SAASC,cAAe,SAAWH,GAAOI,UAP3C,CACfC,SAAQ,kBACRC,YAAW,0BACXC,OAAM,2BACNC,SAAa,UC2BIT,E,CAQlBU,cACCR,KAAKS,MAAMC,SAAWC,IACrBX,KAAKY,UAAUT,WAAaH,KAAKH,WAAYc,EAAM,IAGpDV,SAASY,iBAAkB,kBAAmBH,SAAWI,IACnD,EAAIA,EAAaX,UAAUY,OAC/BD,EAAaE,MAAMC,OAASH,EAAaI,YAAc,KAEvDJ,EAAaE,MAAMG,QAAU,MAAM,G,CAUrCC,QACOpB,KAAKS,OAAWT,KAAKS,MAAMM,QAIlCf,KAAKQ,a,CAjDNa,YAAaC,GACZ,MAAMC,KAAEA,GAASD,EACjBtB,KAAKS,MAAQc,EACbvB,KAAKd,SAAW,gBAChBc,KAAKY,UAAYX,SAASC,cAAe,sB,GAqDmBR,GAE9DL,GAAU,IAAME,OAAOC,GAAGC,YAAYG,UAAUwB,S","sources":["src/media-library/utils/set-template.js","src/front-end/directory.js"],"sourcesContent":["/**\n * External dependencies\n */\nconst { template } = lodash;\n\nfunction setTemplate( tmpl ) {\n\tconst options = {\n\t\tevaluate:    /<#([\\s\\S]+?)#>/g,\n\t\tinterpolate: /\\{\\{\\{([\\s\\S]+?)\\}\\}\\}/g,\n\t\tescape:      /\\{\\{([^\\}]+?)\\}\\}(?!\\})/g,\n\t\tvariable:    'data'\n\t};\n\n\treturn template( document.querySelector( '#tmpl-' + tmpl ).innerHTML, options );\n}\n\nexport default setTemplate;\n","/**\n * WordPress dependencies\n */\nconst {\n\tdomReady,\n} = wp;\n\n/**\n * Internal dependencies.\n */\nimport setTemplate from '../media-library/utils/set-template';\n\nclass bpAttachmentsDirectory {\n\t/**\n\t * Setup the Directory.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param {Object} preloadedData The preloaded data.\n\t */\n\tconstructor( preloadedData ) {\n\t\tconst { body } = preloadedData;\n\t\tthis.items = body;\n\t\tthis.template = 'bp-media-item';\n\t\tthis.container = document.querySelector( '#bp-media-directory' );\n\t}\n\n\t/**\n\t * Renders the HTML of a medium.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param {Object} props The medium properties.\n\t * @returns {string} HTML output.\n\t */\n\trenderItem( props ) {\n\t\tconst Template = setTemplate( this.template );\n\t\treturn Template( props );\n\t}\n\n\t/**\n\t * Renders Media.\n\t *\n\t * @since 1.0.0\n\t */\n\trenderItems() {\n\t\tthis.items.forEach( ( item ) => {\n\t\t\tthis.container.innerHTML += this.renderItem( item );\n\t\t} );\n\n\t\tdocument.querySelectorAll( '.bp-media-item' ).forEach( ( renderedItem ) => {\n\t\t\tif ( 5 < renderedItem.innerHTML.length ) {\n\t\t\t\trenderedItem.style.height = renderedItem.clientWidth + 'px';\n\t\t\t} else {\n\t\t\t\trenderedItem.style.display = 'none';\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Init the Directory.\n\t *\n\t * @since 1.0.0\n\t */\n\t start() {\n\t\tif ( ! this.items || ! this.items.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.renderItems();\n\t }\n}\n\nwindow.bp = window.bp || {};\nwindow.bp.Attachments = window.bp.Attachments || {};\n\nconst preloadedData = window.bpAttachmentsDirectoryItems || {};\nwindow.bp.Attachments.Directory = new bpAttachmentsDirectory( preloadedData );\n\ndomReady( () => window.bp.Attachments.Directory.start() );\n"],"names":["template","lodash","domReady","$89823c8e39abf570$var$domReady","wp","window","bp","Attachments","$89823c8e39abf570$var$preloadedData","bpAttachmentsDirectoryItems","Directory","renderItem","props","tmpl","this","document","querySelector","innerHTML","evaluate","interpolate","escape","variable","renderItems","items","forEach","item","container","querySelectorAll","renderedItem","length","style","height","clientWidth","display","start","constructor","preloadedData1","body"],"version":3,"file":"directory.js.map"}